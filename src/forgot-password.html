{{> head }}
<body>

<div id="logout">
  <i class="fa fa-power-off"></i>
</div>

<section class="flex cont-login-page">
	<div class="">
		<div class="cont-login-logo">
			<img src="images/logo.png" alt="Logo">
		</div>

		<div class="cont-login-form flex flex-col">
      <div class="flex flex-row mb-4" style="justify-content: center">
        <div class="flex flex-column">
          <h1 class="mb-2">Mot de passe oublié</h1>
          <p class="mt-0" id="email-message"    style="display: none">Entrez votre adresse mail pour obtenir un lien de réinitialisation de votre mot de passe</p>
          <p class="mt-0" id="password-message" style="display: none">Entrez votre nouveau mot de passe</p>
        </div>
      </div>

			<form id="email-otp-form" class="flex flex-row" style="float: none; display: none">
        <div class="flex-col col-12">
          <div class="flex-column col">
            <div class="flex-row row">
              <div class="flex-column flex col col-1 justify-content-center">
                <label>Email</label>
              </div>

              <div class="flex-column col col-11">
                <div class="input-group">
                  <span class="input-group-text">
                    <i class="fa-solid fa-at"></i>
                  </span>
                  <input
                    type="email"
                    id="email"
                    name="email"
                    class="form-control"
                    required
                    autocomplete="email"
                  />
                </div>
              </div>
            </div>
            <div class="otr-button-field col-12">
              <input type="submit" value="Valider">
            </div>
          </div>
        </div>
			</form>

      <form id="initial-password-form" class="flex flex-row" style="float: none; display: none">
        <div class="flex-row row">
          <div class="flex-column col col-6">
            <div class="mt-2">
              <label>Nouveau mot de passe</label>
              <div class="input-group password-with-visibility">
                <span class="input-group-text">
                  <i class="fa-solid fa-lock"></i>
                </span>
                <input
                  type="password"
                  id="initial-password"
                  name="initial-password"
                  class="form-control"
                  required
                  autocomplete="new-password"
                />
                <span class="input-group-text toggle">
                  <i class="fa fa-eye-slash" class="password-visibility-toggle"></i>
                </span>
              </div>
              <div class="col-12">
                <div class="progress">
                  <div id="password-strength-meter" class="progress-bar" role="progressbar"></div>
                </div>
              </div>
            </div>
            <div class="mt-2">
              <label>Confirmez le mot de passe</label>
              <div class="input-group password-with-visibility">
                <span class="input-group-text">
                  <i class="fa-solid fa-lock"></i>
                </span>
                <input
                  type="password"
                  id="confirm-password"
                  name="confirm-password"
                  class="form-control"
                  required
                  autocomplete="new-password"
                />
                <span class="input-group-text toggle">
                  <i class="fa fa-eye-slash" class="password-visibility-toggle"></i>
                </span>
              </div>
            </div>
            <div class="otr-button-field col-12">
              <input type="submit" value="Valider">
            </div>
          </div>

          <div class="flex-column col col-6 password-spec">
            <div class="row flex" style="flex-grow: 1;">
              <div class="pb-3">
                <p>Le mot de passe doit contenir:</p>
                <ul>
                  <li id="criteria-lowercase">
                    <span class="password-spec-status"><i class="fa fa-times fa-fw"></i></span>
                    <span class="password-spec-text">Une minuscule</span>
                  </li>
                  <li id="criteria-uppercase">
                    <span class="password-spec-status"><i class="fa fa-times fa-fw"></i></span>
                    <span class="password-spec-text">Une majuscule</span>
                  </li>
                  <li id="criteria-numbers">
                    <span class="password-spec-status"><i class="fa fa-times fa-fw"></i></span>
                    <span class="password-spec-text">Un nombre (0-9)</span>
                  </li>
                  <li id="criteria-special-chars">
                    <span class="password-spec-status"><i class="fa fa-times fa-fw"></i></span>
                    <span class="password-spec-text">Un caractère spécial</span>
                  </li>
                  <li id="criteria-length">
                    <span class="password-spec-status"><i class="fa fa-times fa-fw"></i></span>
                    <span class="password-spec-text">Au moins 6 caractères</span>
                  </li>
                </ul>
              </div>

              <div id="password-evaluation-report-container" class="invisible">
                <div id="password-warning">
                  <div>
                    <i class="fa fa-warning fa-fw text-warning"></i>
                    <span id="password-warning-text">${warning}</span>
                  </div>
                </div>

                <div id="password-recommendation">
                  <div>
                    <i class="fa fa-info fa-fw"></i>
                    <span id="password-recommendation-text"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
		</div>
	</div>
</section>

<style>
  #logout {
    position: absolute;
    background-color: #261e3b;
    color: white;
    padding: 5px;
    cursor: pointer;
  }
</style>

<script type="module" src="/js/components/forgot-password.js"></script>
</body>
